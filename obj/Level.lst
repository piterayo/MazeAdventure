                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.5 #9498 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module Level
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _setLevelPalette
                             12 	.globl _uncompress_enemy_textures
                             13 	.globl _uncompress_theme_textures
                             14 	.globl _cpct_setPalette
                             15 	.globl _cpct_fw2hw
                             16 	.globl _cpct_memcpy
                             17 	.globl _level_palettes
                             18 	.globl _level_init_palettes
                             19 	.globl _level_load_level
                             20 ;--------------------------------------------------------
                             21 ; special function registers
                             22 ;--------------------------------------------------------
                             23 ;--------------------------------------------------------
                             24 ; ram data
                             25 ;--------------------------------------------------------
                             26 	.area _DATA
                             27 ;--------------------------------------------------------
                             28 ; ram data
                             29 ;--------------------------------------------------------
                             30 	.area _INITIALIZED
                             31 ;--------------------------------------------------------
                             32 ; absolute external ram data
                             33 ;--------------------------------------------------------
                             34 	.area _DABS (ABS)
                             35 ;--------------------------------------------------------
                             36 ; global & static initialisations
                             37 ;--------------------------------------------------------
                             38 	.area _HOME
                             39 	.area _GSINIT
                             40 	.area _GSFINAL
                             41 	.area _GSINIT
                             42 ;--------------------------------------------------------
                             43 ; Home
                             44 ;--------------------------------------------------------
                             45 	.area _HOME
                             46 	.area _HOME
                             47 ;--------------------------------------------------------
                             48 ; code
                             49 ;--------------------------------------------------------
                             50 	.area _CODE
                             51 ;src/Level.c:14: void level_init_palettes(){
                             52 ;	---------------------------------
                             53 ; Function level_init_palettes
                             54 ; ---------------------------------
   0000                      55 _level_init_palettes::
                             56 ;src/Level.c:15: cpct_fw2hw(level_palettes[0],9);
   0000 21 09 00      [10]   57 	ld	hl,#0x0009
   0003 E5            [11]   58 	push	hl
   0004 21r2Dr00      [10]   59 	ld	hl,#_level_palettes
   0007 E5            [11]   60 	push	hl
   0008 CDr00r00      [17]   61 	call	_cpct_fw2hw
                             62 ;src/Level.c:16: cpct_fw2hw(level_palettes[1],9);
   000B 21 09 00      [10]   63 	ld	hl,#0x0009
   000E E5            [11]   64 	push	hl
   000F 21r36r00      [10]   65 	ld	hl,#(_level_palettes + 0x0009)
   0012 E5            [11]   66 	push	hl
   0013 CDr00r00      [17]   67 	call	_cpct_fw2hw
                             68 ;src/Level.c:17: cpct_fw2hw(level_palettes[2],9);
   0016 21 09 00      [10]   69 	ld	hl,#0x0009
   0019 E5            [11]   70 	push	hl
   001A 21r3Fr00      [10]   71 	ld	hl,#(_level_palettes + 0x0012)
   001D E5            [11]   72 	push	hl
   001E CDr00r00      [17]   73 	call	_cpct_fw2hw
                             74 ;src/Level.c:18: cpct_fw2hw(level_palettes[3],9);
   0021 21 09 00      [10]   75 	ld	hl,#0x0009
   0024 E5            [11]   76 	push	hl
   0025 21r48r00      [10]   77 	ld	hl,#(_level_palettes + 0x001b)
   0028 E5            [11]   78 	push	hl
   0029 CDr00r00      [17]   79 	call	_cpct_fw2hw
   002C C9            [10]   80 	ret
   002D                      81 _level_palettes:
   002D 05                   82 	.db #0x05	; 5
   002E 0A                   83 	.db #0x0A	; 10
   002F 11                   84 	.db #0x11	; 17
   0030 0E                   85 	.db #0x0E	; 14
   0031 0C                   86 	.db #0x0C	; 12
   0032 09                   87 	.db #0x09	; 9
   0033 0F                   88 	.db #0x0F	; 15
   0034 01                   89 	.db #0x01	; 1
   0035 02                   90 	.db #0x02	; 2
   0036 14                   91 	.db #0x14	; 20
   0037 13                   92 	.db #0x13	; 19
   0038 11                   93 	.db #0x11	; 17
   0039 0E                   94 	.db #0x0E	; 14
   003A 12                   95 	.db #0x12	; 18
   003B 09                   96 	.db #0x09	; 9
   003C 0F                   97 	.db #0x0F	; 15
   003D 03                   98 	.db #0x03	; 3
   003E 0A                   99 	.db #0x0A	; 10
   003F 00                  100 	.db #0x00	; 0
   0040 00                  101 	.db #0x00	; 0
   0041 00                  102 	.db #0x00	; 0
   0042 00                  103 	.db #0x00	; 0
   0043 00                  104 	.db #0x00	; 0
   0044 00                  105 	.db #0x00	; 0
   0045 00                  106 	.db #0x00	; 0
   0046 00                  107 	.db #0x00	; 0
   0047 00                  108 	.db #0x00	; 0
   0048 00                  109 	.db #0x00	; 0
   0049 00                  110 	.db #0x00	; 0
   004A 00                  111 	.db #0x00	; 0
   004B 00                  112 	.db #0x00	; 0
   004C 00                  113 	.db #0x00	; 0
   004D 00                  114 	.db #0x00	; 0
   004E 00                  115 	.db #0x00	; 0
   004F 00                  116 	.db #0x00	; 0
   0050 00                  117 	.db #0x00	; 0
                            118 ;src/Level.c:21: void setLevelPalette(u8 i){
                            119 ;	---------------------------------
                            120 ; Function setLevelPalette
                            121 ; ---------------------------------
   0051                     122 _setLevelPalette::
   0051 DD E5         [15]  123 	push	ix
   0053 DD 21 00 00   [14]  124 	ld	ix,#0
   0057 DD 39         [15]  125 	add	ix,sp
                            126 ;src/Level.c:22: cpct_memcpy(g_palette+7, level_palettes[i],9);
   0059 01r2Dr00      [10]  127 	ld	bc,#_level_palettes+0
   005C DD 5E 04      [19]  128 	ld	e,4 (ix)
   005F 16 00         [ 7]  129 	ld	d,#0x00
   0061 6B            [ 4]  130 	ld	l, e
   0062 62            [ 4]  131 	ld	h, d
   0063 29            [11]  132 	add	hl, hl
   0064 29            [11]  133 	add	hl, hl
   0065 29            [11]  134 	add	hl, hl
   0066 19            [11]  135 	add	hl, de
   0067 09            [11]  136 	add	hl,bc
   0068 4D            [ 4]  137 	ld	c,l
   0069 44            [ 4]  138 	ld	b,h
   006A 21 09 00      [10]  139 	ld	hl,#0x0009
   006D E5            [11]  140 	push	hl
   006E C5            [11]  141 	push	bc
   006F 21r07r00      [10]  142 	ld	hl,#(_g_palette + 0x0007)
   0072 E5            [11]  143 	push	hl
   0073 CDr00r00      [17]  144 	call	_cpct_memcpy
                            145 ;src/Level.c:23: cpct_setPalette(g_palette,16);
   0076 21 10 00      [10]  146 	ld	hl,#0x0010
   0079 E5            [11]  147 	push	hl
   007A 21r00r00      [10]  148 	ld	hl,#_g_palette
   007D E5            [11]  149 	push	hl
   007E CDr00r00      [17]  150 	call	_cpct_setPalette
   0081 DD E1         [14]  151 	pop	ix
   0083 C9            [10]  152 	ret
                            153 ;src/Level.c:26: void level_load_level(u8 l){
                            154 ;	---------------------------------
                            155 ; Function level_load_level
                            156 ; ---------------------------------
   0084                     157 _level_load_level::
                            158 ;src/Level.c:29: index =((l<8)?0:(
   0084 21 02 00      [10]  159 	ld	hl, #2+0
   0087 39            [11]  160 	add	hl, sp
   0088 7E            [ 7]  161 	ld	a, (hl)
   0089 D6 08         [ 7]  162 	sub	a, #0x08
   008B 30 04         [12]  163 	jr	NC,00103$
   008D 06 00         [ 7]  164 	ld	b,#0x00
   008F 18 29         [12]  165 	jr	00104$
   0091                     166 00103$:
                            167 ;src/Level.c:30: (l<24)?1:(
   0091 21 02 00      [10]  168 	ld	hl, #2+0
   0094 39            [11]  169 	add	hl, sp
   0095 7E            [ 7]  170 	ld	a, (hl)
   0096 D6 18         [ 7]  171 	sub	a, #0x18
   0098 30 04         [12]  172 	jr	NC,00105$
   009A 06 01         [ 7]  173 	ld	b,#0x01
   009C 18 1C         [12]  174 	jr	00106$
   009E                     175 00105$:
                            176 ;src/Level.c:31: (l<56)?2:(
   009E 21 02 00      [10]  177 	ld	hl, #2+0
   00A1 39            [11]  178 	add	hl, sp
   00A2 7E            [ 7]  179 	ld	a, (hl)
   00A3 D6 38         [ 7]  180 	sub	a, #0x38
   00A5 30 04         [12]  181 	jr	NC,00107$
   00A7 06 02         [ 7]  182 	ld	b,#0x02
   00A9 18 0F         [12]  183 	jr	00108$
   00AB                     184 00107$:
                            185 ;src/Level.c:32: (l<120)?4:0
   00AB 21 02 00      [10]  186 	ld	hl, #2+0
   00AE 39            [11]  187 	add	hl, sp
   00AF 7E            [ 7]  188 	ld	a, (hl)
   00B0 D6 78         [ 7]  189 	sub	a, #0x78
   00B2 30 04         [12]  190 	jr	NC,00109$
   00B4 06 04         [ 7]  191 	ld	b,#0x04
   00B6 18 02         [12]  192 	jr	00110$
   00B8                     193 00109$:
   00B8 06 00         [ 7]  194 	ld	b,#0x00
   00BA                     195 00110$:
   00BA                     196 00108$:
   00BA                     197 00106$:
   00BA                     198 00104$:
                            199 ;src/Level.c:35: uncompress_theme_textures(index);
   00BA C5            [11]  200 	push	bc
   00BB C5            [11]  201 	push	bc
   00BC 33            [ 6]  202 	inc	sp
   00BD CDr00r00      [17]  203 	call	_uncompress_theme_textures
   00C0 33            [ 6]  204 	inc	sp
   00C1 C1            [10]  205 	pop	bc
                            206 ;src/Level.c:36: uncompress_enemy_textures(index);
   00C2 C5            [11]  207 	push	bc
   00C3 C5            [11]  208 	push	bc
   00C4 33            [ 6]  209 	inc	sp
   00C5 CDr00r00      [17]  210 	call	_uncompress_enemy_textures
   00C8 33            [ 6]  211 	inc	sp
   00C9 33            [ 6]  212 	inc	sp
   00CA CDr51r00      [17]  213 	call	_setLevelPalette
   00CD 33            [ 6]  214 	inc	sp
   00CE C9            [10]  215 	ret
                            216 	.area _CODE
                            217 	.area _INITIALIZER
                            218 	.area _CABS (ABS)
